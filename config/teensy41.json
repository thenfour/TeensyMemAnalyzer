{
    "$schema": "./schema/memory-map.schema.json",
    "targetId": "teensy41",
    "displayName": "Teensy 4.1",
    "regions": [
        {
            "id": "FLASH",
            "name": "QSPI Flash",
            "kind": "flash",
            "start": 1610612736,
            "size": 8388608,
            "reserved": [
                {
                    "name": "flexspi_config",
                    "start": 1610612736,
                    "size": 4096
                },
                {
                    "name": "ivt_bootdata",
                    "start": 1610616832,
                    "size": 4096
                },
                {
                    "name": "recovery_sector",
                    "start": 1618739200,
                    "size": 262144
                }
            ]
        },
        {
            "id": "ITCM",
            "name": "Instruction TCM",
            "kind": "code_ram",
            "start": 0,
            "size": 524288,
            "reserved": [
                {
                    "name": "null_pointer_trap",
                    "start": 0,
                    "size": 32
                }
            ]
        },
        {
            "id": "DTCM",
            "name": "Data TCM",
            "kind": "data_ram",
            "start": 536870912,
            "size": 524288
        },
        {
            "id": "DMAMEM",
            "name": "On-Chip RAM (DMAMEM)",
            "kind": "dma_ram",
            "start": 538968064,
            "size": 524288
        },
        {
            "id": "EXTMEM",
            "name": "External PSRAM",
            "kind": "ext_ram",
            "start": 1879048192,
            "size": 33554432
        }
    ],
    "reports": {
        "teensySize": {
            "flash": {
                "groupId": "flash",
                "sectionBreakdown": {
                    "headers": [
                        ".text.headers",
                        ".text.csf"
                    ],
                    "code": [
                        ".text.code",
                        ".text.itcm",
                        ".ARM.exidx"
                    ],
                    "data": [
                        ".text.progmem",
                        ".data"
                    ]
                }
            },
            "ram1": {
                "groupId": "ram1",
                "codeBankIds": [
                    "ram1_itcm"
                ],
                "dataBankIds": [
                    "ram1_dtcm"
                ],
                "codeRoundingGranuleBytes": 32768,
                "sharedCapacityBytes": 524288,
                "dataCategories": [
                    "data_init",
                    "bss"
                ]
            },
            "ram2": {
                "groupId": "ram2",
                "variableCategories": [
                    "data_init",
                    "bss",
                    "dma",
                    "other"
                ]
            }
        }
    },
    "runtimeBanks": [
        {
            "id": "flash_exec",
            "name": "QSPI Flash Runtime",
            "kind": "flash",
            "description": "Executable and constant sections stored in on-board flash.",
            "segments": [
                {
                    "regionId": "FLASH"
                }
            ]
        },
        {
            "id": "ram1_itcm",
            "name": "RAM1 ITCM",
            "kind": "ram",
            "description": "Instruction TCM used for FASTRUN code.",
            "segments": [
                {
                    "regionId": "ITCM"
                }
            ]
        },
        {
            "id": "ram1_dtcm",
            "name": "RAM1 DTCM",
            "kind": "ram",
            "description": "Data TCM backing globals, stack, and heap.",
            "segments": [
                {
                    "regionId": "DTCM"
                }
            ]
        },
        {
            "id": "ram2_axi",
            "name": "RAM2 (DMAMEM)",
            "kind": "ram",
            "description": "AXI on-chip RAM shared with DMA and large allocations.",
            "segments": [
                {
                    "regionId": "DMAMEM"
                }
            ]
        },
        {
            "id": "psram_external",
            "name": "External PSRAM",
            "kind": "external",
            "description": "Optional PSRAM connected via FlexSPI2.",
            "segments": [
                {
                    "regionId": "EXTMEM"
                }
            ]
        }
    ],
    "runtimeGroups": [
        {
            "id": "flash",
            "name": "Flash",
            "bankIds": [
                "flash_exec"
            ]
        },
        {
            "id": "ram1",
            "name": "RAM1",
            "description": "Combined ITCM and DTCM usage at runtime.",
            "bankIds": [
                "ram1_itcm",
                "ram1_dtcm"
            ]
        },
        {
            "id": "ram2",
            "name": "RAM2",
            "bankIds": [
                "ram2_axi"
            ]
        },
        {
            "id": "external",
            "name": "External RAM",
            "bankIds": [
                "psram_external"
            ]
        }
    ]
}